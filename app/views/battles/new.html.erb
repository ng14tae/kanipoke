<div class="min-h-screen py-8 px-6">
  <div class="container mx-auto max-w-4xl px-4 sm:px-8 text-center">
    <h1 class="text-2xl sm:text-2xl font-bold">
      勝負
    </h1>
  </div>

  <div id="battle-arena">
    <div class="battle-cards-reveal my-8">
      <!-- 常に左右並びで表示 -->
      <div class="flex justify-around items-center gap-4">
        <!-- プレイヤーのカード -->
        <div class="player-card-section text-center flex-1 min-w-0">
          <h3 class="text-sm sm:text-base mb-4"><%= current_user.display_name %></h3>
          <%= card_image_tag(0, class: "mx-auto block max-w-[120px] w-full h-auto") %>
          <p class="text-xs sm:text-sm mt-2">カード：？</p>
        </div>

        <!-- VS表示 -->
        <div class="vs-section text-center flex-shrink-0 mx-4">
          <h2 class="text-4xl sm:text-5xl font-bold">VS</h2>
        </div>

        <!-- 対戦相手のカード -->
        <div class="opponent-card-section text-center flex-1 min-w-0">
          <h3 class="text-sm sm:text-base mb-4"><%= @opponent.display_name %></h3>
          <%= card_image_tag(@opponent_card, class: "mx-auto block max-w-[120px] w-full h-auto") %>
          <p class="text-sm sm:text-base font-bold mt-2">カード: <%= @opponent_card %></p>
        </div>
      </div>
    </div>

    <div class="game-info">
      <p class="text-base sm:text-lg mb-6 text-center leading-relaxed">
        カードが配られました！<br>「勝負！」ボタンを押して結果を見ましょう
      </p>
    </div>

    <%= form_with model: @battle, local: true do |f| %>
      <%= f.hidden_field :opponent_id, value: @opponent.id %>
      <%= f.hidden_field :user_card, value: @user_card %>
      <%= f.hidden_field :opponent_card, value: @opponent_card %>

      <div class="text-center mt-6">
        <div class="flex justify-center gap-4 flex-wrap">
          <%= f.submit "勝負！", class: button_classes(type: :primary) %>
          <%= link_to "降りる", users_path,
              class: button_classes(type: :secondary),
              data: { turbo_confirm: "本当に降りますか？" } %>
          <%= link_to "再戦", new_battle_path(opponent_id: @opponent.id),
              class: button_classes(type: :primary),
              data: { turbo: false } %>
        </div>
      </div>
    <% end %>
  </div>
</div>