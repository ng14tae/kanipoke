<div class="min-h-screen pt-12 px-6">
  <div class="container mx-auto max-w-4xl px-4 sm:px-8 text-center">
    <h1 class="text-2xl sm:text-2xl font-bold">
      勝負
    </h1>
  </div>

  <div id="battle-arena">
    <div class="battle-cards-reveal my-8 flex flex-row items-center justify-center gap-4 flex-wrap md:flex-nowrap">
      <!-- 常に左右並びで表示 -->
      <div class="flex justify-around items-center gap-4">
        <!-- プレイヤーのカード -->
        <div class="player-card-section text-center flex-1 min-w-0 max-w-[150px] sm:max-w-[180px]">
          <h3 class="text-lg sm:text-xl font-medium mb-2 leading-snug h-[3.2em]">
            <%= current_user.display_name %></h3>
            <%= card_image_tag(0, class: "mx-auto w-full h-auto") %>
          <p class="text-base sm:text-lg font-bold mt-2">カード：？</p>
        </div>

        <!-- VS表示 -->
        <div class="vs-section text-center flex-shrink-0 px-2">
          <h2 class="text-3xl sm:text-4xl md:text-5xl font-extrabold">VS</h2>
        </div>

        <!-- 対戦相手のカード -->
        <div class="opponent-card-section text-center flex-1 min-w-0 max-w-[150px] sm:max-w-[180px]">
          <h3 class="text-lg sm:text-xl font-medium mb-2 leading-snug h-[3.2em]">
            <%= @opponent.display_name %>
          </h3>
          <%= card_image_tag(@opponent_card, class: "mx-auto w-full h-auto") %>
          <p class="text-base sm:text-lg font-bold mt-2">カード: <%= @opponent_card %></p>
        </div>
      </div>
    </div>

    <div class="game-info">
      <p class="text-base sm:text-lg mb-6 text-center leading-relaxed">
        カードが配られました！<br>「勝負！」ボタンを押して結果を見ましょう
      </p>
    </div>

    <%= form_with model: @battle, local: true do |f| %>
      <%= f.hidden_field :opponent_id, value: @opponent.id %>
      <%= f.hidden_field :user_card, value: @user_card %>
      <%= f.hidden_field :opponent_card, value: @opponent_card %>

      <div class="text-center mt-6">
        <div class="flex justify-center gap-4 flex-wrap">
          <%= f.submit "勝負！", class: button_classes(type: :primary) %>
          <%= link_to "降りる", users_path,
              class: button_classes(type: :secondary),
              data: { turbo_confirm: "本当に降りますか？" } %>
          <%= link_to "再戦", new_battle_path(opponent_id: @opponent.id),
              class: button_classes(type: :primary),
              data: { turbo: false } %>
        </div>
      </div>
    <% end %>
  </div>
</div>