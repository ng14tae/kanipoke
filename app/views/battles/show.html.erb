<div class="min-h-screen py-12 px-6" style="background: #7CADED;">
<!-- ロゴをセンターに配置 -->
<div class="text-center mb-8">
    <%= image_tag "logo.png", class: "mx-auto max-w-xs md:max-w-sm lg:max-w-md" %>
</div>

  <div class="battle-cards-reveal flex justify-around items-center my-8">
    <!-- プレイヤーのカード（公開） -->
    <div class="player-card-section text-center">
      <h3 style="font-family: DotGothic16, sans-serif;"><%= @battle.user.display_name || @battle.user.name %></h3>
      <!-- 実際のカード画像を表示 -->
      <%= card_image_tag(@battle.user_card, class: "revealed-card") %>
      <p class="card-number text-lg font-bold mt-2" style="font-family: DotGothic16, sans-serif;">カード: <%= @battle.user_card %></p>
    </div>

    <div class="vs-section text-center">
      <h2 class="text-4xl font-bold" style="color: #FFF691; font-family: DotGothic16, sans-serif;">結果</h2>
    </div>

    <!-- 対戦相手のカード（公開） -->
    <div class="opponent-card-section text-center">
      <h3 style="font-family: DotGothic16, sans-serif;"><%= @battle.opponent.display_name || @battle.opponent.name %></h3>
      <!-- 実際のカード画像を表示 -->
      <%= card_image_tag(@battle.opponent_card, class: "revealed-card") %>
      <p class="card-number text-lg font-bold mt-2" style="font-family: DotGothic16, sans-serif;">カード: <%= @battle.opponent_card %></p>
    </div>
  </div>

  <!-- 勝敗結果 -->
  <div class="battle-result text-center my-8">
    <% winner = User.find(@battle.winner_id) %>
    <h2 class="text-3xl font-bold" style="color: #FFF691; font-family: DotGothic16, sans-serif;">
      🎉 <%= winner.display_name || winner.name %> の勝利！ 🎉
    </h2>

    <div style="text-align: center; margin-top: 1.5rem;">
    <br><%= link_to "もう一度対戦", new_battle_path(opponent_id: @battle.opponent.id),
          style: "display: inline-block; background-color: #facc15; color: #1e3a8a; font-weight: 900; font-size: 1.25rem; padding: 0.75rem 1.75rem; border-radius: 0.5rem; text-decoration: none; border: 2px solid #eab308; font-family: DotGothic16, sans-serif; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); transition: all 0.2s ease; transform: translateY(0); margin-right: 1rem; ",
          onmouseover: "this.style.backgroundColor='#f59e0b'; this.style.transform='translateY(-4px) scale(1.05)'; this.style.boxShadow='0 20px 25px -5px rgba(0, 0, 0, 0.2)'; this.style.borderColor='#d97706';",
          onmouseout: "this.style.backgroundColor='#facc15'; this.style.transform='translateY(0) scale(1)'; this.style.boxShadow='0 10px 15px -3px rgba(0, 0, 0, 0.1)'; this.style.borderColor='#eab308';",
          onmousedown: "this.style.transform='translateY(-2px) scale(0.98)';",
          onmouseup: "this.style.transform='translateY(-4px) scale(1.05)';" %>
  <%= link_to "対戦相手一覧に戻る", users_path,
          style: "display: inline-block; background-color: #6b7280; color: #ffffff; font-weight: 900; font-size: 1.25rem; padding: 0.75rem 1.75rem; border-radius: 0.5rem; text-decoration: none; border: 2px solid #4b5563; font-family: DotGothic16, sans-serif; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); transition: all 0.2s ease; transform: translateY(0);",
          onmouseover: "this.style.backgroundColor='#4b5563'; this.style.transform='translateY(-4px) scale(1.05)'; this.style.boxShadow='0 20px 25px -5px rgba(0, 0, 0, 0.2)'; this.style.borderColor='#374151';",
          onmouseout: "this.style.backgroundColor='#6b7280'; this.style.transform='translateY(0) scale(1)'; this.style.boxShadow='0 10px 15px -3px rgba(0, 0, 0, 0.1)'; this.style.borderColor='#4b5563';",
          onmousedown: "this.style.transform='translateY(-2px) scale(0.98)';",
          onmouseup: "this.style.transform='translateY(-4px) scale(1.05)';" %>
  </div>
  <br>
  <div style="text-align: center; margin-top: 1.5rem;">
  <%= link_to "https://twitter.com/intent/tweet?text=#{CGI.escape(battle_share_text(@battle))}&url=#{CGI.escape(request.original_url)}",
    target: "_blank", rel: "noopener noreferrer",
    class: "inline-flex items-center px-4 py-2 bg-black text-white font-bold text-sm rounded-lg hover:bg-gray-800 transition-colors duration-200" do %>
  <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 24 24">
    <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
  </svg>
  <p style="font-family: DotGothic16, sans-serif;">対戦結果をシェアする</p>
<% end %>
  </div>
</div>